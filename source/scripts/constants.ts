const SVG_NAMESPACE: string = 'http://www.w3.org/2000/svg';

const CELL_SIZE: number = 96;
const HALF_CELL_SIZE: number = CELL_SIZE / 2;
const GRID_BORDER_SIZE: number = 5;
const REGION_BORDER_SIZE: number = 3;
const CELL_BORDER_SIZE: number = 1;
const CONSTRAINT_OUTLINE_SIZE: number = 2;

// a table of points table of points
const CELL_HIGHLIGHT_POINTS =
[
    [],
    [
        [[0.0, 0.0], [0.0, 1.0], [1.0, 1.0], [1.0, 0.0]],
    ],
    [
        [[0.788675134594813, 1.0], [0.0,1.0], [0.0,0.0], [0.21132486540518675, 0.0], [0.5, 0.5]],
        [[0.21132486540518675, 0.0], [1.0,0.0], [1.0,1.0], [0.7886751345948133, 1.0], [0.5, 0.5]],
    ],
    [
        [[0.788675134594813, 1.0], [0.0,1.0], [0.0, 0.5000000000000001], [0.5, 0.5]],
        [[0.0, 0.5000000000000001], [0.0,0.0], [0.7886751345948124, 0.0], [0.5, 0.5]],
        [[0.7886751345948124, 0.0], [1.0,0.0], [1.0,1.0], [0.7886751345948133, 1.0], [0.5, 0.5]],
    ],
    [
        [[0.788675134594813, 1.0], [0.0,1.0], [0.0, 0.7886751345948131], [0.5, 0.5]],
        [[0.0, 0.7886751345948131], [0.0,0.0], [0.21132486540518675, 0.0], [0.5, 0.5]],
        [[0.21132486540518675, 0.0], [1.0,0.0], [1.0, 0.21132486540518675], [0.5, 0.5]],
        [[1.0, 0.21132486540518675], [1.0,1.0], [0.7886751345948133, 1.0], [0.5, 0.5]],
    ],
    [
        [[0.788675134594813, 1.0], [0.049797977851080366, 1.0], [0.5, 0.5]],
        [[0.049797977851080366, 1.0], [0.0,1.0], [0.0, 0.2773856573457322], [0.5, 0.5]],
        [[0.0, 0.2773856573457322], [0.0,0.0], [0.552552117632838, 0.0], [0.5, 0.5]],
        [[0.552552117632838, 0.0], [1.0,0.0], [1.0, 0.39372171916498866], [0.5, 0.5]],
        [[1.0, 0.39372171916498866], [1.0,1.0], [0.7886751345948133, 1.0], [0.5, 0.5]],
    ],
    [
        [[0.788675134594813, 1.0], [0.21132486540518725, 1.0], [0.5, 0.5]],
        [[0.21132486540518725, 1.0], [0.0,1.0], [0.0, 0.5000000000000001], [0.5, 0.5]],
        [[0.0, 0.5000000000000001], [0.0,0.0], [0.21132486540518675, 0.0], [0.5, 0.5]],
        [[0.21132486540518675, 0.0], [0.7886751345948124, 0.0], [0.5, 0.5]],
        [[0.7886751345948124, 0.0], [1.0,0.0], [1.0, 0.49999999999999944], [0.5, 0.5]],
        [[1.0, 0.49999999999999944], [1.0,1.0], [0.7886751345948133, 1.0], [0.5, 0.5]],
    ],
    [
        [[0.788675134594813, 1.0], [0.3037644605949489, 1.0], [0.5, 0.5]],
        [[0.3037644605949489, 1.0], [0.0,1.0], [0.0, 0.6542295744636707], [0.5, 0.5]],
        [[0.0, 0.6542295744636707], [0.0, 0.15910577209961596], [0.5, 0.5]],
        [[0.0, 0.15910577209961596], [0.0,0.0], [0.46253017999045626, 0.0], [0.5, 0.5]],
        [[0.46253017999045626, 0.0], [1.0,0.0], [1.0, 0.036067798262973294], [0.5, 0.5]],
        [[1.0, 0.036067798262973294], [1.0, 0.5753628741253669], [0.5, 0.5]],
        [[1.0, 0.5753628741253669], [1.0,1.0], [0.7886751345948133, 1.0], [0.5, 0.5]],
    ],
    [
        [[0.788675134594813, 1.0], [0.3660254037844387, 1.0], [0.5, 0.5]],
        [[0.3660254037844387, 1.0], [0.0,1.0], [0.0, 0.7886751345948131], [0.5, 0.5]],
        [[0.0, 0.7886751345948131], [0.0, 0.3660254037844389], [0.5, 0.5]],
        [[0.0, 0.3660254037844389], [0.0,0.0], [0.21132486540518675, 0.0], [0.5, 0.5]],
        [[0.21132486540518675, 0.0], [0.6339745962155611, 0.0], [0.5, 0.5]],
        [[0.6339745962155611, 0.0], [1.0,0.0], [1.0, 0.21132486540518675], [0.5, 0.5]],
        [[1.0, 0.21132486540518675], [1.0, 0.6339745962155611], [0.5, 0.5]],
        [[1.0, 0.6339745962155611], [1.0,1.0], [0.7886751345948133, 1.0], [0.5, 0.5]],
    ],
    [
        [[0.788675134594813, 1.0], [0.4118365096457677, 1.0], [0.5, 0.5]],
        [[0.4118365096457677, 1.0], [0.0,1.0], [0.0, 0.9195498155886401], [0.5, 0.5]],
        [[0.0, 0.9195498155886401], [0.0, 0.5000000000000001], [0.5, 0.5]],
        [[0.0, 0.5000000000000001], [0.0, 0.08045018441136004], [0.5, 0.5]],
        [[0.0, 0.08045018441136004], [0.0,0.0], [0.4118365096457675, 0.0], [0.5, 0.5]],
        [[0.4118365096457675, 0.0], [0.7886751345948124, 0.0], [0.5, 0.5]],
        [[0.7886751345948124, 0.0], [1.0,0.0], [1.0, 0.3180148828668984], [0.5, 0.5]],
        [[1.0, 0.3180148828668984], [1.0, 0.6819851171331008], [0.5, 0.5]],
        [[1.0, 0.6819851171331008], [1.0,1.0], [0.7886751345948133, 1.0], [0.5, 0.5]],
    ],
];


const CELL_HIGHLIGHT_POINTS_STRINGS: Array<Array<string>> = ((): Array<Array<string>> => {
    let result: Array<Array<string>> = new Array();

    for (let points of CELL_HIGHLIGHT_POINTS) {
        let triangles: Array<string> = new Array();
        for (let triangle of points) {
            let pointList: string = "";
            for (let coords of triangle) {
                pointList += `${coords[0] * CELL_SIZE},${coords[1] * CELL_SIZE} `;
            }
            triangles.push(pointList);
        }
        result.push(triangles);
    }

    return result;
})();